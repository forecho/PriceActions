import fs from 'fs';import path from 'path';const docsDir = path.resolve(process.cwd(), 'docs');const configPath = path.resolve(docsDir, '.vitepress/config.js');function getSidebarItems(dir, parentPath = '') {    const dirents = fs.readdirSync(dir, { withFileTypes: true });    const items = [];    for (const dirent of dirents) {        const res = path.resolve(dir, dirent.name);        const resPath = path.join(parentPath, dirent.name);        if (dirent.isDirectory()) {            if (dirent.name === '.vitepress') continue;            const subItems = getSidebarItems(res, resPath);            if (subItems.length > 0) {                items.push({                    text: dirent.name.replace(/^\d+-/, '').replace(/-/g, ' '),                    collapsed: true,                    items: subItems                });            }        } else if (dirent.isFile() && dirent.name.endsWith('.md')) {            const link = '/' + resPath.replace(/\\/g, '/').replace('.md', '');            if (dirent.name.toLowerCase() === 'index.md' && dirents.filter(d => d.isFile() && d.name.endsWith('.md')).length === 1) {            }            items.push({                text: path.basename(dirent.name, '.md').replace(/^\d+[a-zA-Z]*/, '').trim(),                link: link            });        }    }    return items;}let configContent = fs.readFileSync(configPath, 'utf-8');const newSidebar = getSidebarItems(docsDir);const sidebarRegex = /sidebar: \[\s\S\]\*?\]/;const newSidebarString = `sidebar: ${JSON.stringify(newSidebar, null, 2)}`;if (sidebarRegex.test(configContent)) {    configContent = configContent.replace(sidebarRegex, newSidebarString);} else {    const themeConfigRegex = /themeConfig: \{/;    if (themeConfigRegex.test(configContent)) {        configContent = configContent.replace(themeConfigRegex, `themeConfig: {\n    ${newSidebarString},`);    } else {        console.error('Could not find themeConfig in the config file.');        process.exit(1);    }}fs.writeFileSync(configPath, configContent, 'utf-8');console.log('VitePress sidebar configuration updated successfully.');